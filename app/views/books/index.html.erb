<div class="columns">
  <div class="column is-one-quarter">
    <h4 class="title is-4">Advanced search</h4>
    <%= form_with url: books_path, method: :get, id: 'search_form' do |f| %>
    <div class="control">
      <div class="field">
        <%= label_tag(:term, 'Title', class: 'label is-small') %>
        <%= f.text_field :term, class: 'input is-small', value: params[:term] %>
      </div>
      <div class="field">
        <%= label_tag(:filters, 'Author', class: 'label is-small') %>
        <%= f.text_field :with_author, class: 'input is-small', name: 'filters[with_author]',
          value: (params[:filters][:with_author] if params[:filters].present?) %>
      </div>
      <div class="field">
        <%= label_tag(:filters, 'Published after', class: 'label is-small') %>
        <%= f.text_field :published_after, class: 'input is-small datepicker', name: 'filters[published_after]',
          value: (params[:filters][:published_after] if params[:filters].present?) %>
      </div>
      <div class="field">
        <%= label_tag(:filters, 'Published before', class: 'label is-small') %>
        <%= f.text_field :published_before, class: 'input is-small datepicker', name: 'filters[published_before]',
          value: (params[:filters][:published_before] if params[:filters].present?) %>
      </div>
      <%= submit_tag 'Search', class: 'button is-small is-primary' %>
    </div>
    <% end %>
  </div>
  <div class="column" id="books">
    <%= render @books %>
    <%= paginate @books, window: 1, outer_window: 1 %>
  </div>
  <div class="column is-one-fifth">
    <p>
      <span class="help">Haven't found what you're looking for?</span>
      <%= link_to 'Add new book', new_book_path, class: 'help is-primary' %>
    </p>
  </div>
</div>
